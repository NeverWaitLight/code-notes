# Requirements

## Functional

1. FR1: 首页无需登录，打开即展示视频列表。
2. FR2: 点击列表中任意视频进入播放页面。
3. FR3: 上传页面支持选择视频并展示上传进度，仅展示上传中的视频，上传完成后不再在上传页显示。
4. FR4: 上传视频限制为 H.264 编码的 MP4，大小不超过 5GB；除类型与大小外不做其他属性校验。
5. FR5: 上传后后端将原始视频保存到本地文件系统并写入 SQLite 元数据，状态为“上传中”。
6. FR6: 后端使用 JavaCV 将视频切分为 HLS（.m3u8 + .ts），分片时长固定为 2 秒；切分完成后状态更新为“上传完成”。
7. FR7: 上传或切分失败时状态标记为失败并记录错误提示信息，不提供自动重试。
8. FR8: 播放页面使用 hls.js 播放；当视频未就绪时仅展示默认占位效果。
9. FR9: 播放页面提供删除按钮，点击后需二次确认，确认后删除视频文件与数据库记录（无需鉴权）。

## Non Functional

1. NFR1: 后端必须基于 OpenJDK 21、Spring Boot、JPA、SQLite、JavaCV。
2. NFR2: 前端必须基于 Vue 3 与 hls.js。
3. NFR3: 视频文件与数据库文件必须存储在本地文件系统，不依赖第三方服务。
4. NFR4: 系统需可在离线环境下本机运行与播放。
5. NFR5: 全站不需要登录或鉴权。
6. NFR6: 上传到处理完成的最长耗时可接受为 1 小时以内（本机环境）。
7. NFR7: 失败提示需展示 `code` 与 `message` 字段。
